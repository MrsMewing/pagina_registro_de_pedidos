<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gesti√≥n de Pedidos - Navegaci√≥n corregida</title>
  <style>
    :root{
      --primary:#2563eb;
      --primary-dark:#1d4ed8;
      --bg:#f9fafb;
      --card:#fff;
      --text:#111827;
    }

    html,body{
      height:100%;
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    header{
      text-align:center;
      padding:1.5rem 1rem 0.75rem;
    }
    header h1{
      margin:0;
      font-size:2rem;
      line-height:1.1;
    }

    /* NAV: wrapper + list pattern */
    nav{
      background:var(--primary);
      padding:0.6rem 0;
    }

    /* contenedor scrollable que permite swipe/drag */
    .nav-wrapper{
      width:100%;
      overflow-x:auto;                 /* permite scroll horizontal */
      -webkit-overflow-scrolling:touch;/* suaviza en iOS */
      scrollbar-width:thin;            /* firefox */
      scrollbar-color: rgba(255,255,255,0.45) transparent;
      cursor: grab;
    }

    /* estilado visual de la barra (opcional: visible pero discreta) */
    .nav-wrapper::-webkit-scrollbar{ height:8px; }
    .nav-wrapper::-webkit-scrollbar-track{ background: transparent; }
    .nav-wrapper::-webkit-scrollbar-thumb{
      background: rgba(255,255,255,0.35);
      border-radius: 999px;
    }

    /* lista flexible que nunca se envuelve; min-width evita que items se compriman */
    .nav-list{
      display:flex;
      gap:0.6rem;
      align-items:center;
      padding:0.4rem 0.75rem;
      min-width: max-content; /* clave: que el flex no reduzca todo y permita scroll */
      scroll-snap-type:x proximity; /* UX: snap opcional */
    }

    .nav-item{
      flex:0 0 auto; /* importante: no crecer ni encoger */
      display:inline-block;
      padding:0.6rem 1rem;
      color:#fff;
      text-decoration:none;
      border-radius:999px;
      font-weight:600;
      background:transparent;
      white-space:nowrap;
      scroll-snap-align:center;
      transition: background-color .18s ease, transform .12s ease;
      user-select:none;
    }

    .nav-item:active{ transform: translateY(1px); }
    .nav-item:hover{ background: rgba(255,255,255,0.08); }

    /* d√≠a seleccionado (ejemplo visual) */
    .nav-item.active{
      background: rgba(255,255,255,0.18);
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    /* A partir de pantallas grandes, mostramos la nav centrada (sin scroll) */
    @media (min-width:900px){
      .nav-wrapper{ overflow-x:visible; }
      .nav-list{ justify-content:center; width:100%; min-width:0; }
      .nav-item{ padding:0.6rem 1.25rem; }
    }

    /* --------------------------------------------------- */
    /* Contenedor principal de recordatorios (scroll vertical) */
    .container{
      max-width:900px;
      margin:1.25rem auto;
      padding:0 1rem;
      height:60vh;
      min-height:360px;
      overflow-y:auto;
      border-radius:12px;
    }

    .pedido{
      background:var(--card);
      border-radius:10px;
      padding:1.1rem;
      margin-bottom:1rem;
      box-shadow: 0 3px 10px rgba(2,6,23,0.06);
    }
    .pedido h2{ margin:0 0 .35rem; font-size:1.05rem; }
    .pedido p{ margin:0.22rem 0; color:#374151; font-size:0.98rem; }

    .acciones{ margin-top:0.9rem; }
    .acciones button{
      padding:0.48rem 0.85rem;
      border-radius:8px;
      border:0;
      cursor:pointer;
      margin-right:0.5rem;
      font-weight:600;
    }
    .update{ background:#22c55e;color:#fff; }
    .delete{ background:#ef4444;color:#fff; }

    /* Bot√≥n flotante centrado */
    .btn-flotante{
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      bottom:20px;
      background:var(--primary);
      color:#fff;
      border:0;
      width:64px;
      height:64px;
      border-radius:999px;
      font-size:1.6rem;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 8px 20px rgba(37,99,235,0.18);
      z-index:1200;
    }
    .btn-flotante:hover{ background:var(--primary-dark); }

    /* Modal (mantengo la misma animaci√≥n suave) */
    .modal{
      position:fixed; inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,0.45);
      z-index:2000;
    }
    .modal.active{ display:flex; animation:fadeIn .22s ease both; }
    .modal-content{
      width:92%;
      max-width:420px;
      background:var(--card);
      padding:1.1rem 1.2rem;
      border-radius:12px;
      transform:translateY(-12px);
      animation:slideUp .26s ease both;
    }
    @keyframes fadeIn{ from{opacity:0} to{opacity:1} }
    @keyframes slideUp{ from{opacity:0; transform:translateY(-18px)} to{opacity:1; transform:translateY(0)} }

    .modal form{ display:flex; flex-direction:column; gap:0.7rem; }
    .modal input,.modal select{ padding:0.6rem; border-radius:8px; border:1px solid #e6e9ee; font-size:1rem; }

    /* Responsive tweaks: hacer items m√°s grandes en m√≥vil */
    @media (max-width:768px){
      header h1{ font-size:1.5rem; }
      .nav-item{ font-size:1.05rem; padding:0.72rem 1.05rem; }
      .container{ height:68vh; padding:0 0.75rem; }
      .pedido h2{ font-size:1rem; }
      .btn-flotante{ width:72px; height:72px; font-size:1.8rem; bottom:18px; }
    }
    @media (max-width:420px){
      .nav-item{ padding:0.68rem 0.9rem; font-size:1rem; }
      .container{ height:70vh; }
      .btn-flotante{ width:68px; height:68px; }
    }

    /* UX: while dragging */
    .nav-wrapper.dragging{ cursor:grabbing; cursor:-webkit-grabbing; }
  </style>
</head>
<body>
  <header>
    <h1>üì¶ Organiza tus pedidos de la semana</h1>
  </header>

  <nav aria-label="D√≠as de la semana">
    <div class="nav-wrapper" id="navWrapper" tabindex="0">
      <div class="nav-list" role="tablist" aria-label="D√≠as">
        <a class="nav-item active" href="#" role="tab">Lunes</a>
        <a class="nav-item" href="#" role="tab">Martes</a>
        <a class="nav-item" href="#" role="tab">Mi√©rcoles</a>
        <a class="nav-item" href="#" role="tab">Jueves</a>
        <a class="nav-item" href="#" role="tab">Viernes</a>
        <a class="nav-item" href="#" role="tab">S√°bado</a>
        <a class="nav-item" href="#" role="tab">Domingo</a>
        <!-- m√°s items de prueba (para validar que se muestran correctamente) -->
        <a class="nav-item" href="#" role="tab">Semana siguiente</a>
        <a class="nav-item" href="#" role="tab">Pendientes</a>
      </div>
    </div>
  </nav>

  <main class="container" id="mainContainer">
    <div class="pedido">
      <h2>Pedido #1: Compra de insumos</h2>
      <p><strong>Cantidad a pagar:</strong> Q250</p>
      <p><strong>Hora de pago:</strong> 10:30 AM</p>
      <div class="acciones">
        <button class="update">Actualizar</button>
        <button class="delete">Eliminar</button>
      </div>
    </div>

    <div class="pedido">
      <h2>Pedido #2: Pago de proveedor</h2>
      <p><strong>Cantidad a pagar:</strong> Q500</p>
      <p><strong>Hora de pago:</strong> 3:00 PM</p>
      <div class="acciones">
        <button class="update">Actualizar</button>
        <button class="delete">Eliminar</button>
      </div>
    </div>

    <div class="pedido">
      <h2>Pedido #3: Revisi√≥n de inventario</h2>
      <p><strong>Cantidad a pagar:</strong> Q120</p>
      <p><strong>Hora de pago:</strong> 6:15 PM</p>
      <div class="acciones">
        <button class="update">Actualizar</button>
        <button class="delete">Eliminar</button>
      </div>
    </div>
  </main>

  <!-- bot√≥n flotante centrado -->
  <button class="btn-flotante" id="openModal" aria-label="Agregar recordatorio">Ôºã</button>

  <!-- modal -->
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-content" role="document">
      <h2 style="margin-top:0;text-align:center">Nuevo recordatorio</h2>
      <form>
        <input type="text" placeholder="Nombre de la empresa" required />
        <input type="number" placeholder="Cantidad a pagar" required />
        <input type="time" required />
        <select required>
          <option value="">Seleccionar d√≠a</option>
          <option>Lunes</option><option>Martes</option><option>Mi√©rcoles</option>
          <option>Jueves</option><option>Viernes</option><option>S√°bado</option><option>Domingo</option>
        </select>
        <div style="display:flex;gap:.6rem;margin-top:.4rem">
          <button type="button" id="closeModal" style="flex:1;background:#ef4444;color:#fff;border-radius:8px;padding:.6rem;border:0">Cancelar</button>
          <button type="submit" style="flex:1;background:#22c55e;color:#fff;border-radius:8px;padding:.6rem;border:0">Guardar</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // ---------- Modal minimal ----------
    const modal = document.getElementById('modal');
    const openModal = document.getElementById('openModal');
    const closeModal = document.getElementById('closeModal');

    openModal.addEventListener('click', () => {
      modal.classList.add('active');
      modal.setAttribute('aria-hidden','false');
    });
    closeModal.addEventListener('click', () => {
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden','true');
    });
    modal.addEventListener('click', (e) => {
      if(e.target === modal){
        modal.classList.remove('active');
        modal.setAttribute('aria-hidden','true');
      }
    });

    // ---------- Mejora: drag-to-scroll en la barra de navegaci√≥n ----------
    const navWrapper = document.getElementById('navWrapper');
    let isDown = false;
    let startX;
    let scrollLeft;

    // mouse
    navWrapper.addEventListener('mousedown', (e) => {
      isDown = true;
      navWrapper.classList.add('dragging');
      startX = e.pageX - navWrapper.offsetLeft;
      scrollLeft = navWrapper.scrollLeft;
    });
    document.addEventListener('mouseup', () => {
      isDown = false;
      navWrapper.classList.remove('dragging');
    });
    navWrapper.addEventListener('mousemove', (e) => {
      if(!isDown) return;
      e.preventDefault();
      const x = e.pageX - navWrapper.offsetLeft;
      const walk = (x - startX) * 1.5; // velocidad de scroll al arrastrar
      navWrapper.scrollLeft = scrollLeft - walk;
    });

    // touch (m√≥viles)
    navWrapper.addEventListener('touchstart', (e) => {
      startX = e.touches[0].pageX - navWrapper.offsetLeft;
      scrollLeft = navWrapper.scrollLeft;
    }, {passive:true});
    navWrapper.addEventListener('touchmove', (e) => {
      const x = e.touches[0].pageX - navWrapper.offsetLeft;
      const walk = (x - startX) * 1; 
      navWrapper.scrollLeft = scrollLeft - walk;
    }, {passive:true});

    // accesibilidad: tecla izquierda/derecha para navegar por el men√∫ cuando est√° enfocado
    navWrapper.addEventListener('keydown', (e) => {
      if(e.key === 'ArrowRight') { navWrapper.scrollBy({left:120, behavior:'smooth'}); }
      if(e.key === 'ArrowLeft')  { navWrapper.scrollBy({left:-120, behavior:'smooth'}); }
    });
  </script>
</body>
</html>
